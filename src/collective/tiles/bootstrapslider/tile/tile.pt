<html tal:define="images view/images | nothing;">
<body>
<tal:slider tal:condition="images">
  <tal:def define="
      image_scale view/data/image_scale | string: large;
      show_title view/data/show_title | None;
      show_description view/data/show_description | None;
      fullscreen python: view.data.get('allow_fullscreen') and 'fullscreen' or '';
      autostart python:view.data.get('autostart') and 'true' or 'false';
      pager python:view.data.get('pager') and 'true' or 'false';
      navigation python:view.data.get('navigation') and 'true' or 'false';
      darkvariant python:view.data.get('darkvariant') and 'carousel-dark' or '';
    ">
    <div id="carousel-${view/id}" class="carousel ${darkvariant} slide" data-ride="carousel">

      <ol class="carousel-indicators">
        <tal:indicators repeat="image images">
          <li data-target="#carousel-${view/id}" data-slide-to="${python:repeat.image.index}" 
            class="${python:repeat.image.index == 0 and 'active' or None}"></li>
        </tal:indicators>
      </ol>

      <div class="carousel-inner">
        <tal:slide repeat="image images">
        <div class="carousel-item ${python:repeat.image.index == 0 and 'active' or None}" data-interval="">
          <tal:image define="
              description image/description | nothing;
              link image/link | nothing;
              image_src python:image.get(image_scale);
              ">
              <img class="d-block w-100" src="${image_src}" alt="${description}" />
              <div class="carousel-caption d-none d-md-block" 
                tal:condition="python:show_title or show_description">
                <h5 tal:condition="python:show_title and image.title" 
                  tal:content="image/title">Title</h5>
                <p tal:condition="python:show_description and image.description" 
                  tal:content="image/description">Description</p>
              </div>
          </tal:image>
        </div>
        </tal:slide>
      </div>


      <a class="carousel-control-prev" href="#carousel-${view/id}" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carousel-${view/id}" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </a>
    </div>






  </tal:def>
</tal:slider>
</body>
</html>


